/****************************************************************************************
 *设    计:温子祺
 *日    期:2015-5-29
 *说	明:常用函数
****************************************************************************************/
#include <stdio.h>
#include <fcntl.h>
#include <unistd.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <sys/mman.h>
#include <stdlib.h>
#include <sys/stat.h>

/****************************************************
 *函数名称:file_size_get
 *输入参数:pfile_path	-文件路径
 *返 回 值:-1		-失败
		   其他值	-文件大小
 *说	明:获取文件大小
 ****************************************************/
unsigned long file_size_get(const char *pfile_path)
{
	unsigned long filesize = -1;	
	struct stat statbuff;
	
	if(stat(pfile_path, &statbuff) < 0)
	{
		return filesize;
	}
	else
	{
		filesize = statbuff.st_size;
	}
	
	return filesize;
}

unsigned char bcc_check(unsigned char *buf, int n)
{
    int i;
    unsigned char bcc=0;
	
    for(i = 0; i < n; i++)
    {
        bcc ^= *(buf+i);
    }
	
    return (~bcc);
}